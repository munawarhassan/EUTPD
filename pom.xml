<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>com.pmi.tpd</groupId>
  <artifactId>tpd.parent</artifactId>
  <version>3.4.0</version>
  <packaging>pom</packaging>

  <name>${project.groupId}:${project.artifactId}</name>
  <description>European Commission Common Entry Gate for reporting.</description>
  <url>${site.url}</url>
  <inceptionYear>2016</inceptionYear>
  <organization>
    <name>${organization.name}</name>
    <url>${organization.url}</url>
  </organization>

  <developers>
    <developer>
      <id>devacfr</id>
      <name>Christophe Friederich</name>
      <organization>Philip Morris</organization>
      <email>christophe.friederich@pmi.com</email>
      <roles>
        <role>Developer</role>
      </roles>
    </developer>
    <developer>
      <id>docpsi</id>
      <name>Pascal Schmid</name>
      <organization>Philip Morris</organization>
      <email>pascal.schmid@contracted.pmi.com</email>
      <roles>
        <role>Developer</role>
      </roles>
    </developer>
  </developers>
  <contributors>
    <contributor>
      <name>Sebastien Siret</name>
      <email>sebastien.siret@pmi.com</email>
      <organization>Philip Morris</organization>
      <roles>
        <role>Project Leader</role>
      </roles>
    </contributor>
  </contributors>

  <modules>
    <module>tpd-testing-junit5</module>
    <module>tpd-api</module>
    <module>tpd-security</module>
    <module>tpd-testing-service</module>
    <module>tpd-spring</module>
    <module>tpd-cluster</module>
    <module>tpd-web-core</module>
    <module>tpd-euceg</module>
    <module>tpd-scheduler</module>
    <module>tpd-keystore</module>
    <module>tpd-database</module>
    <module>tpd-core</module>
    <module>tpd-frontend</module>
    <module>tpd-web</module>
  </modules>

  <scm>
    <connection>scm:git:ssh://git@rd-bitbucket.app.pmi:7999/tpd/tpd.git</connection>
    <developerConnection>scm:git:ssh://git@rd-bitbucket.app.pmi:7999/tpd/tpd.git</developerConnection>
    <url>https://rd-bitbucket.app.pmi/projects/TPD/repos/tpd/browse</url>
    <tag>HEAD</tag>
  </scm>
  <issueManagement>
    <system>${issue.system}</system>
    <url>${issue.url}</url>
  </issueManagement>
  <ciManagement>
    <system>${ci.system}</system>
    <url>${ci.url}</url>
  </ciManagement>
  <distributionManagement>
    <repository>
      <id>libs-release-local</id>
      <name>Maven Releases Repository</name>
      <url>https://rd-artifactory.app.pmi/artifactory/libs-release-local</url>
    </repository>
    <snapshotRepository>
      <id>libs-snapshot-local</id>
      <name>Maven Snapshots Repository</name>
      <url>https://rd-artifactory.app.pmi/artifactory/libs-snapshot-local</url>
    </snapshotRepository>
    <site>
      <id>${site.deploy.id}</id>
      <url>${site.url}</url>
    </site>
  </distributionManagement>

  <properties>
    <main.basedir>${session.executionRootDirectory}</main.basedir>
    <site.url>https://doc.tpd.app.pmi</site.url>
    <site.deploy.id>doc</site.deploy.id>
    <site.distribution.url>${site.url}</site.distribution.url>

    <!-- ================================================================================ -->
    <!-- Application Properties -->
    <!-- ================================================================================ -->
    <application.prefix>tpd</application.prefix>
    <application.name>tpd</application.name>
    <application_slug_name>tpd</application_slug_name>
    <application.cluster.name>TPD Submission Tool Cluster</application.cluster.name>
    <application.title>TPD Submission Tool</application.title>
    <application.fullname>TPD Submission Tool</application.fullname>
    <application.service.name>TPD-TOOL</application.service.name>
    <application.version>${project.version}</application.version>
    <!-- used in README distribution file -->
    <application.description />
    <buildNumber>${git.commit.id.abbrev}</buildNumber>
    <app.home.property>TPD_HOME</app.home.property>
    <app.sharehome.property>TPD_SHARE_HOME</app.sharehome.property>
    <app.profile.property>TPD_PROFILES</app.profile.property>

    <!-- ================================================================================ -->
    <!-- Server Properties Configuration -->
    <!-- ================================================================================ -->
    <app.ajp.port>7809</app.ajp.port>
    <app.context />
    <app.configfile>scripts.cfg</app.configfile>
    <app.http.port>7880</app.http.port>
    <app.ssl.port>8443</app.ssl.port>
    <!-- See the replacements, and their comments, when changing the Tomcat version. Be careful to ensure the
    replacement
      strings still match in the new version used. -->
    <tomcat.major.version>9</tomcat.major.version>
    <tomcat.minor.version>${tomcat.major.version}.0</tomcat.minor.version>
    <tomcat.full.version>${tomcat.minor.version}.85</tomcat.full.version>
    <tomcat.version>${tomcat.full.version}</tomcat.version>
    <jdk.jdkoptions.1>--add-modules java.se</jdk.jdkoptions.1>
    <jdk.jdkoptions.2>${jdk.jdkoptions.1} --add-exports java.base/jdk.internal.ref=ALL-UNNAMED</jdk.jdkoptions.2>
    <jdk.jdkoptions.3>${jdk.jdkoptions.2} --add-opens java.base/java.lang=ALL-UNNAMED</jdk.jdkoptions.3>
    <jdk.jdkoptions.4>${jdk.jdkoptions.3} --add-opens java.base/java.nio=ALL-UNNAMED</jdk.jdkoptions.4>
    <jdk.jdkoptions.5>${jdk.jdkoptions.4} --add-opens java.base/sun.nio.ch=ALL-UNNAMED</jdk.jdkoptions.5>
    <jdk.jdkoptions.6>${jdk.jdkoptions.5} --add-opens java.management/sun.management=ALL-UNNAMED</jdk.jdkoptions.6>
    <jdk.jdkoptions.7>${jdk.jdkoptions.6} --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED</jdk.jdkoptions.7>
    <jdk.jdkoptions>${jdk.jdkoptions.7}</jdk.jdkoptions>

    <tomcat.srv.jdkoption.1>--add-modules=java.se</tomcat.srv.jdkoption.1>
    <tomcat.srv.jdkoption.2>
      ${tomcat.srv.jdkoption.1};--add-exports=java.base/jdk.internal.ref=ALL-UNNAMED</tomcat.srv.jdkoption.2>
    <tomcat.srv.jdkoption.3>
      ${tomcat.srv.jdkoption.2};--add-opens=java.base/java.nio=ALL-UNNAMED</tomcat.srv.jdkoption.3>
    <tomcat.srv.jdkoption.4>
      ${tomcat.srv.jdkoption.3};--add-opens=java.base/sun.nio.ch=ALL-UNNAMED</tomcat.srv.jdkoption.4>
    <tomcat.srv.jdkoption.5>
      ${tomcat.srv.jdkoption.4};--add-opens=java.management/sun.management=ALL-UNNAMED</tomcat.srv.jdkoption.5>
    <tomcat.srv.jdkoption.6>
      ${tomcat.srv.jdkoption.5};--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED</tomcat.srv.jdkoption.6>
    <tomcat.srv.jdkoptions>${tomcat.srv.jdkoption.6}</tomcat.srv.jdkoptions>

    <distribution.version>${project.version}-${git.commit.id.abbrev}</distribution.version>

    <jdk.major.version>11</jdk.major.version>
    <jdk.version>11.0.21_9</jdk.version>
    <jdk.name>jdk-11.0.21+9</jdk.name>

    <reflowTheme>cerulean</reflowTheme>
    <highlightTheme>github</highlightTheme>
    <generate.site.path>${main.basedir}/target/site</generate.site.path>


    <!-- -->
    <maven.spring.profiles />
    <!-- -->
    <maven.app.home />

    <!-- maven internal used in derby url building -->
    <maven.datasource.path>${app.home}/data/db</maven.datasource.path>
    <!-- used in tpd-core (liquibase-maven-plugin) -->
    <maven.datasource.driverClass>org.apache.derby.jdbc.EmbeddedDriver</maven.datasource.driverClass>
    <!-- used in tpd-core and liquibase-maven-plugin -->
    <maven.datasource.url>jdbc:derby:${maven.datasource.path};create=true</maven.datasource.url>
    <!-- used in resource filtering (app properties file) and tpd-core (liquibase-maven-plugin) -->
    <maven.datasource.username>sa</maven.datasource.username>
    <!-- used in resource filtering (app properties file) and tpd-core (liquibase-maven-plugin) -->
    <maven.datasource.password />
    <!-- used in tpd-core (liquibase-maven-plugin) -->
    <maven.hibernate.dialect>org.hibernate.dialect.DerbyDialect</maven.hibernate.dialect>
    <!-- ================================================================================ -->
    <!-- Set default encoding to UTF-8 (most plugins) -->
    <!-- ================================================================================ -->
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <project.reporting.outputEncoding>${project.build.sourceEncoding}</project.reporting.outputEncoding>
    <!-- ================================================================================ -->
    <!-- Set compiler source and target versions (maven-compiler-plugin) -->
    <!-- ================================================================================ -->
    <maven.compiler.release>11</maven.compiler.release>
    <!--
    ================================================================================ -->
    <!-- Set compiler to be more verbose (maven-compiler-plugin) -->
    <!-- ================================================================================ -->
    <maven.compiler.showDeprecation>false</maven.compiler.showDeprecation>
    <maven.compiler.showWarnings>true</maven.compiler.showWarnings>

    <!--
    ================================================================================ -->
    <!-- Corporate properties -->
    <!--
    ================================================================================ -->
    <organization.name>Philip Morris International</organization.name>
    <organization.url>http://pmi.com</organization.url>
    <organization.siteUrl>http://www.intranet.pmi</organization.siteUrl>
    <!-- ================================================================================ -->
    <!-- Issue tracker properties -->
    <!-- ================================================================================ -->
    <issue.system>JIRA</issue.system>
    <issue.url>http://rd-jira.app.pmi/browse/TPD</issue.url>
    <!-- ================================================================================ -->
    <!-- Continuous Integration properties -->
    <!-- ================================================================================ -->
    <ci.url>http://rd-bamboo.app.pmi/browse/TPD</ci.url>
    <ci.system>Bamboo</ci.system>


    <!-- A common location in which a surefire report from 'test' and failsafe
    report from 'integration-test' phase will
      be stored. See also the clover-report.xml file which refers to this location -->
    <surefire.and.failsafe.report.dir>
      ${project.build.directory}/surefire-reports</surefire.and.failsafe.report.dir>

    <spotbugs.excludefilterfile.path>
      ${main.basedir}/checkers/spotbugs-exclude-filter.xml</spotbugs.excludefilterfile.path>
    <spotbugs.only.analyze>com.pmi.tpd.-</spotbugs.only.analyze>

    <!-- javadoc configuration -->
    <doclint>none</doclint>

    <!-- ================================================================================ -->
    <!-- project core dependencies -->
    <!-- ================================================================================ -->
    <atlassian-cache-api.version>5.5.4</atlassian-cache-api.version>
    <atlassian-cache-compat.version>2.0-1595325</atlassian-cache-compat.version>
    <bcpkix.version>1.69</bcpkix.version>
    <commons-beanutils.version>1.9.4</commons-beanutils.version>
    <commons-codec.version>1.15</commons-codec.version>
    <commons-digester.version>2.1</commons-digester.version>
    <commons-lang3.version>3.9</commons-lang3.version>
    <commons-text.version>1.10.0</commons-text.version>
    <commons-io.version>2.8.0</commons-io.version>
<!--    TO REMOVE -->
<!--    <ehcache.version>3.4.0</ehcache.version>-->
    <ecj.version>4.6.1</ecj.version>
    <spotbugs.version>4.2.3</spotbugs.version>
    <jcip-annotations.version>1.0</jcip-annotations.version>
    <!-- The javassist version should match the one managed by
    https://mvnrepository.com/artifact/org.hibernate/hibernate-core/${hibernate.version} -->
    <javassist.version>3.27.0-GA</javassist.version>
    <jackson.version>2.13.2</jackson.version>
    <janino.version>3.1.11</janino.version>
    <java.activation>1.2.2</java.activation>
    <jsr305-and-javax.annotation-api.version>1.2</jsr305-and-javax.annotation-api.version>
    <javax.annotation-api.version>1.3.2</javax.annotation-api.version>
    <javax.ws.rs-api.version>2.1.6</javax.ws.rs-api.version>
    <javax.mail.version>1.5.2</javax.mail.version>
    <jaxb-api.version>2.3.1</jaxb-api.version>
    <jaxb.version>2.3.3</jaxb.version>
    <jaxws-api.version>2.3.1</jaxws-api.version>
    <jws-api.version>1.1</jws-api.version>
    <javax.inject.version>1</javax.inject.version>
    <jersey.version>2.39.1</jersey.version>
    <joda-time.version>2.10.5</joda-time.version>
    <guava.version>30.1.1-jre</guava.version>
    <hazelcast.version>5.3.6</hazelcast.version>
    <hazelcast-wm.version>4.0</hazelcast-wm.version>
    <hazelcast-cloud.version>3.6.8</hazelcast-cloud.version>
    <hazelcast-hibernate.version>5.1.0</hazelcast-hibernate.version>
    <hibernate.version>5.4.31.Final</hibernate.version>
    <hibernate-validator.version>6.1.5.Final</hibernate-validator.version>
    <httpcomponents.version>4.5.10</httpcomponents.version>
    <propertyset.version>1.6.0-m4</propertyset.version>
    <quartz.version>2.3.2</quartz.version>
    <!-- querydsl version according to Springframework version -->
    <querydsl.version>5.0.0</querydsl.version>
    <liquibase.version>4.3.5</liquibase.version>
    <liquibase-hibernate5.version>4.3.3</liquibase-hibernate5.version>
    <log4j.version>2.19.0</log4j.version>
    <logback.version>1.3.14</logback.version>
    <lombok.version>1.18.26</lombok.version>
    <plexus-utils.version>3.4.1</plexus-utils.version>
    <servlet-api.version>3.1.0</servlet-api.version>
    <slf4j.version>2.0.11</slf4j.version>
    <springframework.version>5.3.32</springframework.version>
    <springframework.data.version>2.6.5</springframework.data.version>
    <springframework-data-jpa.version>2.6.5</springframework-data-jpa.version>
    <springframework.data-jdbc-core.version>1.2.1.RELEASE</springframework.data-jdbc-core.version>
    <spring-data-elasticsearch.version>4.2.6</spring-data-elasticsearch.version>
    <springframework.security.version>5.6.12</springframework.security.version>
    <spring-hateoas.version>1.0.2.RELEASE</spring-hateoas.version>
    <snakeyaml.version>1.26</snakeyaml.version>
    <swagger.version>2.2.9</swagger.version>
    <testcontainers.version>1.17.3</testcontainers.version>
    <thymleaf.version>3.0.12.RELEASE</thymleaf.version>
    <thymleaf-layout.version>1.2.8</thymleaf-layout.version>
    <validation-api.version>2.0.2</validation-api.version>
    <xerces.version>2.12.0</xerces.version>

    <!-- ================================================================================ -->
    <!-- Metrics Dependencies version -->
    <!-- ================================================================================ -->
    <metrics-spring.version>3.1.3</metrics-spring.version>
    <metrics.version>4.2.2</metrics.version>

    <!-- ================================================================================ -->
    <!-- Test dependencies version -->
    <!-- ================================================================================ -->
    <junit.version>4.13.2</junit.version>
    <junit5.version>5.9.3</junit5.version>
    <mockito.version>5.11.0</mockito.version>
    <buddy.version>1.14.13</buddy.version>
    <hamcrest.version>2.2</hamcrest.version>


    <!-- ================================================================================ -->
    <!-- Core plugin dependencies versions. -->
    <!-- ================================================================================ -->
    <maven-antrun-plugin.version>3.0.0</maven-antrun-plugin.version>
    <maven-assembly-plugin.version>3.3.0</maven-assembly-plugin.version>
    <apt-maven-plugin.version>1.1.3</apt-maven-plugin.version>
    <maven-build-helper-plugin.version>3.3.0</maven-build-helper-plugin.version>
    <maven-compiler-plugin.version>3.11.0</maven-compiler-plugin.version>
    <maven-clean-plugin.version>2.5</maven-clean-plugin.version>
    <maven-dependency-plugin.version>3.5.0</maven-dependency-plugin.version>
    <maven-deploy-plugin.version>2.8.2</maven-deploy-plugin.version>

    <maven-cargo-plugin.version>1.7.10</maven-cargo-plugin.version>
    <maven-docker-plugin.version>0.43.4</maven-docker-plugin.version>
    <dockerfile-maven.version>1.4.13</dockerfile-maven.version>
    <maven-enforcer-plugin.version>1.3.1</maven-enforcer-plugin.version>
    <exec-maven-plugin.version>3.0.0</exec-maven-plugin.version>
    <maven-failsafe-plugin.version>3.0.0-M4</maven-failsafe-plugin.version>
    <maven-install-plugin.version>3.0.1</maven-install-plugin.version>
    <maven-gitflow-plugin.version>1.21.0</maven-gitflow-plugin.version>
    <maven-lifecycle-mapping.version>1.0.0</maven-lifecycle-mapping.version>
    <maven-properties-plugin.version>1.0-alpha-2</maven-properties-plugin.version>
    <maven-reflow-plugin.version>2.4.0-beta2</maven-reflow-plugin.version>
    <maven-release-plugin.version>2.5.3</maven-release-plugin.version>
    <maven-resources-plugin.version>3.3.0</maven-resources-plugin.version>
    <maven-source-plugin.version>3.2.1</maven-source-plugin.version>
    <maven-site-plugin.version>4.0.0-M9</maven-site-plugin.version>
    <maven-surefire-plugin.version>3.1.2</maven-surefire-plugin.version>
    <maven-toolchains-plugin.version>3.0.0</maven-toolchains-plugin.version>
    <wagon-maven-plugin.version>2.0.0</wagon-maven-plugin.version>
    <!-- ================================================================================ -->
    <!-- Packaging plugins -->
    <!-- ================================================================================ -->
    <maven-jar-plugin.version>3.3.0</maven-jar-plugin.version>
    <maven-war-plugin.version>3.2.3</maven-war-plugin.version>

    <!-- ================================================================================ -->
    <!-- Assembling plugins -->
    <!-- ================================================================================ -->
    <maven-appassembler-plugin.version>2.1.0</maven-appassembler-plugin.version>

    <!-- ================================================================================ -->
    <!-- Reporting plugins (only used subset) -->
    <!-- ================================================================================ -->
    <maven-changes-plugin.version>2.12.1</maven-changes-plugin.version>
    <maven-checkstyle-plugin.version>3.3.0</maven-checkstyle-plugin.version>
    <maven-clover-plugin.version>4.4.1</maven-clover-plugin.version>
    <maven-javadoc-plugin.version>3.5.0</maven-javadoc-plugin.version>
    <maven-jdepend-plugin.version>2.0-beta-2</maven-jdepend-plugin.version>
    <maven-spotbugs-plugin.version>4.2.3</maven-spotbugs-plugin.version>
    <maven-jxr-plugin.version>2.5</maven-jxr-plugin.version>
    <maven-pdf-plugin.version>1.3</maven-pdf-plugin.version>
    <maven-pmd-plugin.version>3.21.0</maven-pmd-plugin.version>
    <maven-project-info-reports-plugin.version>3.4.5</maven-project-info-reports-plugin.version>
    <maven-surefire-report-plugin.version>3.1.2</maven-surefire-report-plugin.version>
    <taglist-maven-plugin.version>3.0.0</taglist-maven-plugin.version>

    <!-- ================================================================================ -->
    <!-- Maven Extensions (Wagon...) -->
    <!-- ================================================================================ -->
    <maven-wagon-ssh-external.version>3.0.0</maven-wagon-ssh-external.version>
  </properties>

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>commons-codec</groupId>
        <artifactId>commons-codec</artifactId>
        <version>${commons-codec.version}</version>
      </dependency>
      <dependency>
        <groupId>commons-beanutils</groupId>
        <artifactId>commons-beanutils</artifactId>
        <version>${commons-beanutils.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-lang3</artifactId>
        <version>${commons-lang3.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-text</artifactId>
        <version>${commons-text.version}</version>
      </dependency>
      <dependency>
        <groupId>commons-io</groupId>
        <artifactId>commons-io</artifactId>
        <version>${commons-io.version}</version>
      </dependency>
      <!-- TODO remove after complete migration : use jsr305-and-javax.annotation-api -->
      <dependency>
        <groupId>com.github.spotbugs</groupId>
        <artifactId>spotbugs-annotations</artifactId>
        <version>${spotbugs.version}</version>
        <scope>provided</scope>
        <exclusions>
          <exclusion>
            <groupId>com.google.code.findbugs</groupId>
            <artifactId>jsr305</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>net.jcip</groupId>
        <artifactId>jcip-annotations</artifactId>
        <version>${jcip-annotations.version}</version>
      </dependency>
      <dependency>
        <groupId>com.google.guava</groupId>
        <artifactId>guava</artifactId>
        <version>${guava.version}</version>
        <exclusions>
          <exclusion>
            <groupId>com.google.code.findbugs</groupId>
            <artifactId>jsr305</artifactId>
          </exclusion>
          <exclusion>
            <groupId>com.google.errorprone</groupId>
            <artifactId>error_prone_annotations</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>animal-sniffer-annotations</artifactId>
          </exclusion>
        </exclusions>
      </dependency>

      <dependency>
        <groupId>com.sun.activation</groupId>
        <artifactId>jakarta.activation</artifactId>
        <version>${java.activation}</version>
      </dependency>
      <!-- TODO remove after complete migration : use jsr305-and-javax.annotation-api -->
      <dependency>
        <groupId>javax.annotation</groupId>
        <artifactId>javax.annotation-api</artifactId>
        <version>${javax.annotation-api.version}</version>
      </dependency>
      <dependency>
        <groupId>no.ssb.jpms</groupId>
        <artifactId>jsr305-and-javax.annotation-api</artifactId>
        <version>${jsr305-and-javax.annotation-api.version}</version>
      </dependency>
      <dependency>
        <groupId>jakarta.ws.rs</groupId>
        <artifactId>jakarta.ws.rs-api</artifactId>
        <version>${javax.ws.rs-api.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.xml.bind</groupId>
        <artifactId>jaxb-api</artifactId>
        <version>${jaxb-api.version}</version>
      </dependency>
      <dependency>
        <groupId>jakarta.xml.bind</groupId>
        <artifactId>jakarta.xml.bind-api</artifactId>
        <version>${jaxb.version}</version>
      </dependency>
      <dependency>
        <groupId>org.glassfish.jaxb</groupId>
        <artifactId>jaxb-runtime</artifactId>
        <version>${jaxb.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.xml.ws</groupId>
        <artifactId>jaxws-api</artifactId>
        <version>${jaxws-api.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.jws</groupId>
        <artifactId>javax.jws-api</artifactId>
        <version>${jws-api.version}</version>
      </dependency>
      <dependency>
        <groupId>jakarta.validation</groupId>
        <artifactId>jakarta.validation-api</artifactId>
        <version>${validation-api.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.inject</groupId>
        <artifactId>javax.inject</artifactId>
        <version>${javax.inject.version}</version>
      </dependency>
      <dependency>
        <groupId>org.glassfish.jersey</groupId>
        <artifactId>jersey-bom</artifactId>
        <version>${jersey.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>joda-time</groupId>
        <artifactId>joda-time</artifactId>
        <version>${joda-time.version}</version>
      </dependency>
      <dependency>
        <groupId>io.rest-assured</groupId>
        <artifactId>rest-assured</artifactId>
        <version>${rest-assured.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>${servlet-api.version}</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <version>${lombok.version}</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.quartz-scheduler</groupId>
        <artifactId>quartz</artifactId>
        <version>${quartz.version}</version>
      </dependency>
      <dependency>
        <groupId>xerces</groupId>
        <artifactId>xercesImpl</artifactId>
        <version>${xerces.version}</version>
        <exclusions>
          <exclusion>
            <groupId>xml-apis</groupId>
            <artifactId>xml-apis</artifactId>
          </exclusion>
        </exclusions>
      </dependency>

      <!-- ================================================================================ -->
      <!-- Logger Dependencies -->
      <!-- ================================================================================ -->
      <dependency>
        <groupId>org.apache.logging.log4j</groupId>
        <artifactId>log4j-bom</artifactId>
        <version>${log4j.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-api</artifactId>
        <version>${slf4j.version}</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-log4j12</artifactId>
        <version>${slf4j.version}</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>jul-to-slf4j</artifactId>
        <version>${slf4j.version}</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>jcl-over-slf4j</artifactId>
        <version>${slf4j.version}</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>log4j-over-slf4j</artifactId>
        <version>${slf4j.version}</version>
      </dependency>
      <dependency>
        <groupId>ch.qos.logback</groupId>
        <artifactId>logback-core</artifactId>
        <version>${logback.version}</version>
      </dependency>
      <dependency>
        <groupId>ch.qos.logback</groupId>
        <artifactId>logback-classic</artifactId>
        <version>${logback.version}</version>
        <exclusions>
          <exclusion>
            <groupId>edu.washington.cs.types.checker</groupId>
            <artifactId>checker-framework</artifactId>
          </exclusion>
          <exclusion>
            <groupId>javax.activation</groupId>
            <artifactId>activation</artifactId>
          </exclusion>
        </exclusions>
      </dependency>

      <!-- ================================================================================ -->
      <!-- Jackson Dependencies -->
      <!-- ================================================================================ -->
      <dependency>
        <groupId>com.fasterxml.jackson</groupId>
        <artifactId>jackson-bom</artifactId>
        <version>${jackson.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>org.yaml</groupId>
        <artifactId>snakeyaml</artifactId>
        <version>${snakeyaml.version}</version>
      </dependency>

      <!-- ================================================================================ -->
      <!-- Metrics dependencies -->
      <!-- ================================================================================ -->
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-core</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-annotation</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-graphite</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-healthchecks</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-json</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-jvm</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-jmx</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-servlet</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-servlets</artifactId>
        <version>${metrics.version}</version>
        <exclusions>
          <exclusion>
            <groupId>io.dropwizard.metrics</groupId>
            <artifactId>metrics-healthchecks</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>io.dropwizard.metrics</groupId>
        <artifactId>metrics-jcache</artifactId>
        <version>${metrics.version}</version>
      </dependency>
      <dependency>
        <groupId>com.ryantenney.metrics</groupId>
        <artifactId>metrics-spring</artifactId>
        <version>${metrics-spring.version}</version>
        <exclusions>
          <exclusion>
            <groupId>com.codahale.metrics</groupId>
            <artifactId>metrics-annotation</artifactId>
          </exclusion>
          <exclusion>
            <groupId>com.codahale.metrics</groupId>
            <artifactId>metrics-core</artifactId>
          </exclusion>
          <exclusion>
            <groupId>com.codahale.metrics</groupId>
            <artifactId>metrics-healthchecks</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <!-- ================================================================================ -->
      <!-- Spring Dependencies -->
      <!-- ================================================================================ -->
      <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-framework-bom</artifactId>
        <version>${springframework.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-commons</artifactId>
        <version>${springframework.data.version}</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-jpa</artifactId>
        <version>${springframework-data-jpa.version}</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-elasticsearch</artifactId>
        <version>${spring-data-elasticsearch.version}</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-jdbc-core</artifactId>
        <version>${springframework.data-jdbc-core.version}</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-bom</artifactId>
        <version>${springframework.security.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>org.springframework.hateoas</groupId>
        <artifactId>spring-hateoas</artifactId>
        <version>${spring-hateoas.version}</version>
      </dependency>

      <!-- ================================================================================ -->
      <!-- Querydsl -->
      <!-- ================================================================================ -->
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-core</artifactId>
        <version>${querydsl.version}</version>
        <exclusions>
          <exclusion>
            <groupId>com.google.code.findbugs</groupId>
            <artifactId>jsr305</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-apt</artifactId>
        <version>${querydsl.version}</version>
      </dependency>
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-jpa</artifactId>
        <version>${querydsl.version}</version>
      </dependency>
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-sql</artifactId>
        <version>${querydsl.version}</version>
      </dependency>
      <dependency>
        <groupId>com.querydsl</groupId>
        <artifactId>querydsl-collections</artifactId>
        <version>${querydsl.version}</version>
      </dependency>
      <!-- ================================================================================ -->
      <!-- Test Dependencies -->
      <!-- ================================================================================ -->
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>${junit.version}</version>
        <exclusions>
          <exclusion>
            <groupId>org.hamcrest</groupId>
            <artifactId>hamcrest-core</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>org.junit</groupId>
        <artifactId>junit-bom</artifactId>
        <version>${junit5.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>org.hamcrest</groupId>
        <artifactId>hamcrest</artifactId>
        <version>${hamcrest.version}</version>
      </dependency>
      <dependency>
        <groupId>org.mockito</groupId>
        <artifactId>mockito-core</artifactId>
        <version>${mockito.version}</version>
      </dependency>
    </dependencies>
  </dependencyManagement>

  <repositories>
    <repository>
      <id>atlassian-public</id>
      <url>https://packages.atlassian.com/mvn/maven-external/</url>
      <snapshots>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
        <checksumPolicy>warn</checksumPolicy>
      </snapshots>
      <releases>
        <enabled>true</enabled>
        <checksumPolicy>warn</checksumPolicy>
      </releases>
    </repository>
    <repository>
      <id>codelibs.org</id>
      <name>CodeLibs Repository</name>
      <url>https://maven.codelibs.org/</url>
    </repository>
    <repository>
      <id>cefdigital-releases</id>
      <url>
        https://ec.europa.eu/digital-building-blocks/artifact/content/repositories/eDelivery/</url>
    </repository>
  </repositories>

  <build>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-clean-plugin</artifactId>
          <version>${maven-clean-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.cargo</groupId>
          <artifactId>cargo-maven2-plugin</artifactId>
          <version>${maven-cargo-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-dependency-plugin</artifactId>
          <version>${maven-dependency-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-deploy-plugin</artifactId>
          <version>${maven-deploy-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>io.fabric8</groupId>
          <artifactId>docker-maven-plugin</artifactId>
          <version>${maven-docker-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>com.spotify</groupId>
          <artifactId>dockerfile-maven-plugin</artifactId>
          <version>${dockerfile-maven.version}</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>appassembler-maven-plugin</artifactId>
          <version>${maven-appassembler-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-checkstyle-plugin</artifactId>
          <version>${maven-checkstyle-plugin.version}</version>
          <dependencies>
            <dependency>
              <groupId>com.puppycrawl.tools</groupId>
              <artifactId>checkstyle</artifactId>
              <version>8.40</version>
            </dependency>
          </dependencies>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-resources-plugin</artifactId>
          <version>${maven-resources-plugin.version}</version>
          <configuration>
            <delimiters>
              <delimiter>${*}</delimiter>
            </delimiters>
            <propertiesEncoding>${project.build.sourceEncoding}</propertiesEncoding>
            <encoding>${project.build.sourceEncoding}</encoding>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-javadoc-plugin</artifactId>
          <version>${maven-javadoc-plugin.version}</version>
        </plugin>
        <plugin>
          <groupId>com.github.spotbugs</groupId>
          <artifactId>spotbugs-maven-plugin</artifactId>
          <version>${maven-spotbugs-plugin.version}</version>
          <configuration>
            <!-- Corporate specific rules -->
            <effort>Max</effort>
            <threshold>Low</threshold>
            <includeTests>false</includeTests>
            <excludeFilterFile>${spotbugs.excludefilterfile.path}</excludeFilterFile>
            <!-- Enable XML output for reporting tools (Bamboo, Hudson) -->
            <spotbugsXmlOutput>true</spotbugsXmlOutput>
            <!-- Configures the directory in which the XML report is created -->
            <spotbugsXmlOutputDirectory>${project.build.directory}/spotbugs</spotbugsXmlOutputDirectory>
            <xmlOutput>true</xmlOutput>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-toolchains-plugin</artifactId>
          <version>${maven-toolchains-plugin.version}</version>
        </plugin>
      </plugins>
    </pluginManagement>
    <plugins>
      <!-- Core Plugins -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-assembly-plugin</artifactId>
        <version>${maven-assembly-plugin.version}</version>
      </plugin>
      <plugin>
        <groupId>io.github.git-commit-id</groupId>
        <artifactId>git-commit-id-maven-plugin</artifactId>
        <version>5.0.0</version>
        <executions>
          <execution>
            <id>git-commit-id</id>
            <goals>
              <goal>revision</goal>
            </goals>
            <phase>validate</phase>
            <configuration>
              <dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
              <skipPoms>false</skipPoms>
              <runOnlyOnce>true</runOnlyOnce>
              <injectAllReactorProjects>true</injectAllReactorProjects>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>${maven-compiler-plugin.version}</version>
        <configuration>
          <release>${maven.compiler.release}</release>
          <encoding>${project.build.sourceEncoding}</encoding>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-source-plugin</artifactId>
        <version>${maven-source-plugin.version}</version>
        <executions>
          <execution>
            <id>attach-sources</id>
            <phase>package</phase>
            <goals>
              <goal>jar-no-fork</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-install-plugin</artifactId>
        <version>${maven-install-plugin.version}</version>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-release-plugin</artifactId>
        <version>${maven-release-plugin.version}</version>
        <configuration>
          <tagNameFormat>v@{project.version}</tagNameFormat>
          <useReleaseProfile>false</useReleaseProfile>
          <goals>deploy</goals>
          <arguments>-Prelease-profile ${arguments}</arguments>
        </configuration>
      </plugin>

      <plugin>
        <groupId>com.amashchenko.maven.plugin</groupId>
        <artifactId>gitflow-maven-plugin</artifactId>
        <version>${maven-gitflow-plugin.version}</version>
        <configuration>
          <installProject>false</installProject>
          <fetchRemote>false</fetchRemote>
          <pushRemote>false</pushRemote>
          <verbose>true</verbose>
          <useSnapshotInHotfix>true</useSnapshotInHotfix>
          <gitFlowConfig>
            <productionBranch>master</productionBranch>
            <developmentBranch>develop</developmentBranch>
            <featureBranchPrefix>feature/</featureBranchPrefix>
            <releaseBranchPrefix>release/</releaseBranchPrefix>
            <hotfixBranchPrefix>hotfix/</hotfixBranchPrefix>
            <supportBranchPrefix>support/</supportBranchPrefix>
            <versionTagPrefix>v</versionTagPrefix>
            <origin>origin</origin>
          </gitFlowConfig>
        </configuration>
      </plugin>
      <!-- <plugin> -->
      <!-- <groupId>org.codehaus.mojo</groupId> -->
      <!-- <artifactId>tidy-maven-plugin</artifactId> -->
      <!-- <version>1.1.0</version> -->
      <!-- <executions> -->
      <!-- <execution> -->
      <!-- <id>validate</id> -->
      <!-- <phase>validate</phase> -->
      <!-- <goals> -->
      <!-- <goal>check</goal> -->
      <!-- </goals> -->
      <!-- </execution> -->
      <!-- </executions> -->
      <!-- </plugin> -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-failsafe-plugin</artifactId>
        <version>${maven-failsafe-plugin.version}</version>
        <configuration>
          <testSourceDirectory>src/it/java</testSourceDirectory>
          <reportsDirectory>${surefire.and.failsafe.report.dir}</reportsDirectory>
          <additionalClasspathElements>
            <additionalClasspathElement>src/it/resources</additionalClasspathElement>
          </additionalClasspathElements>
          <includes>
            <include>**/*IT.java</include>
          </includes>
          <argLine> --illegal-access=permit
          </argLine>
          <excludes>
            <!-- exclude Clover generated inner class -->
            <exclude>**/*$__CLR*</exclude>
          </excludes>
        </configuration>
        <executions>
          <execution>
            <id>integration-test</id>
            <goals>
              <goal>integration-test</goal>
              <goal>verify</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>${maven-surefire-plugin.version}</version>
        <configuration>
          <reportsDirectory>${surefire.and.failsafe.report.dir}</reportsDirectory>
          <argLine>
            -Xmx512m ${jdk.jdkoptions}
          </argLine>
          <includes>
            <include>**/*Test.java</include>
          </includes>
          <excludes>
            <!-- exclude Clover generated inner class -->
            <exclude>**/*$__CLR*</exclude>
          </excludes>
        </configuration>
      </plugin>
      <!-- ================================================================================ -->
      <!-- Packaging plugins -->
      <!-- ================================================================================ -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jar-plugin</artifactId>
        <version>${maven-jar-plugin.version}</version>
        <configuration>
          <skipIfEmpty>true</skipIfEmpty>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-war-plugin</artifactId>
        <version>${maven-war-plugin.version}</version>
      </plugin>
      <!-- ================================================================================ -->
      <!-- Reporting plugins (only used subset) -->
      <!-- ================================================================================ -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-site-plugin</artifactId>
        <version>${maven-site-plugin.version}</version>
        <dependencies>
          <dependency>
            <groupId>io.github.devacfr.maven.skins</groupId>
            <artifactId>reflow-velocity-tools</artifactId>
            <version>${maven-reflow-plugin.version}</version>
          </dependency>
          <dependency>
            <groupId>org.apache.maven.wagon</groupId>
            <artifactId>wagon-ssh-external</artifactId>
            <version>${maven-wagon-ssh-external.version}</version>
          </dependency>
        </dependencies>
        <configuration>
          <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
          <outputEncoding>${project.build.sourceEncoding}</outputEncoding>
          <skipDeploy>true</skipDeploy>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-dependency-plugin</artifactId>
        <executions>
          <execution>
            <id>unpack</id>
            <phase>pre-site</phase>
            <goals>
              <goal>unpack</goal>
            </goals>
            <configuration>
              <artifactItems>
                <artifactItem>
                  <groupId>io.github.devacfr.maven.skins</groupId>
                  <artifactId>reflow-default-webdeps</artifactId>
                  <version>${maven-reflow-plugin.version}</version>
                  <type>jar</type>
                  <overWrite>false</overWrite>
                  <includes>
                    **/css/themes/${reflowTheme}/**/bootstrap.min.css,
                    **/fontawesome/**/*,
                    **/js/*.js,
                    **/js/languages/*,
                    **/js/styles/${highlightTheme}.min.css
                  </includes>
                </artifactItem>
              </artifactItems>
              <outputDirectory>${generate.site.path}</outputDirectory>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
      </plugin>
    </plugins>
  </build>

  <reporting>
    <excludeDefaults>true</excludeDefaults>
    <!-- List of plugins in alphabetical order -->
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-project-info-reports-plugin</artifactId>
        <version>${maven-project-info-reports-plugin.version}</version>
        <configuration>
          <showAvatarImages>true</showAvatarImages>
          <dependencyLocationsEnabled>false</dependencyLocationsEnabled>
          <dependencyDetailsEnabled>false</dependencyDetailsEnabled>
        </configuration>
        <reportSets>
          <reportSet>
            <reports>
              <report>index</report>
              <report>team</report>
              <!-- <report>modules</report> -->
              <!-- <report>plugins</report> -->
              <report>ci-management</report>
              <report>scm</report>
              <!-- <report>licenses</report> -->
              <!-- <report>plugin-management</report> -->
              <report>distribution-management</report>
              <!-- <report>summary</report> -->
              <!-- <report>mailing-list</report> -->
              <report>issue-management</report>
              <report>dependencies</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-pmd-plugin</artifactId>
        <version>${maven-pmd-plugin.version}</version>
        <configuration>
          <linkXref>true</linkXref>
          <aggregate>true</aggregate>
          <sourceEncoding>${project.build.sourceEncoding}</sourceEncoding>
          <targetJdk>${maven.compiler.target}</targetJdk>
          <verbose>false</verbose>
          <failOnViolation>false</failOnViolation>
          <!-- TODO make it 'true' when we will be ready -->
          <failurePriority>2</failurePriority>
          <excludeRoots>
            <excludeRoot>target/generated-sources</excludeRoot>
          </excludeRoots>
          <excludes>
            <exclude>**/*Bean.java</exclude>
            <exclude>**/org/qos/**/*</exclude>
            <exclude>**/org/eu/ceg/**/*</exclude>
            <exclude>**/org/codehause/**/*</exclude>
            <exclude>**/liquibase/ext/**/*</exclude>
          </excludes>
          <rulesets>
            <ruleset>${main.basedir}/checkers/pmd.xml</ruleset>
          </rulesets>
        </configuration>
        <reportSets>
          <reportSet>
            <id>aggregate</id>
            <inherited>false</inherited>
            <configuration>
              <aggregate>true</aggregate>
            </configuration>
            <reports>
              <report>cpd</report>
              <report>pmd</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <version>${maven-checkstyle-plugin.version}</version>
        <configuration>
          <consoleOutput>false</consoleOutput>
          <enableRulesSummary>false</enableRulesSummary>
          <failOnViolation>false</failOnViolation>
          <!-- TODO make it 'true' when we will be ready -->
          <violationSeverity>warning</violationSeverity>
          <configLocation>${main.basedir}/checkers/checkstyle.xml</configLocation>
          <includeResources>false</includeResources>
          <includeTestResources>false</includeTestResources>
          <includeTestSourceDirectory>false</includeTestSourceDirectory>
          <suppressionsLocation>${main.basedir}/checkers/checkstyle-suppression.xml</suppressionsLocation>
          <excludes>liquibase/ext/*;org/codehause/*;ch/qos/*;**/module-info.java</excludes>
        </configuration>
        <reportSets>
          <reportSet>
            <id>aggregate</id>
            <inherited>false</inherited>
            <reports>
              <report>checkstyle-aggregate</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
        <configuration>
          <doctitle>${application.name} ${application.version} Documentation</doctitle>
          <windowtitle>${application.name} ${application.version}</windowtitle>
          <doclint>${doclint}</doclint>
          <detectLinks>false</detectLinks>
          <failOnError>false</failOnError>
          <bottom>
            <![CDATA[Copyright &#169; 2016,
                            <a href="http://www.pmi.com">Philip Morris International</a>
                            and/or its affiliates.
                            All Rights Reserved. Use is subject to license terms.]]>
          </bottom>
          <excludePackageNames>com.sun.ws.rs.ext</excludePackageNames>
        </configuration>
        <reportSets>
          <reportSet>
            <id>aggregate</id>
            <inherited>false</inherited>
            <reports>
              <report>aggregate-no-fork</report>
              <report>test-aggregate-no-fork</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jxr-plugin</artifactId>
        <version>${maven-jxr-plugin.version}</version>
        <reportSets>
          <reportSet>
            <id>aggregate</id>
            <inherited>false</inherited>
            <reports>
              <report>aggregate</report>
              <report>test-aggregate</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <plugin>
        <groupId>com.github.spotbugs</groupId>
        <artifactId>spotbugs-maven-plugin</artifactId>
        <version>${maven-spotbugs-plugin.version}</version>
        <configuration>
          <!-- Corporate specific rules -->
          <effort>Max</effort>
          <threshold>Low</threshold>
          <includeTests>false</includeTests>
          <excludeFilterFile>${spotbugs.excludefilterfile.path}</excludeFilterFile>
          <!-- Enable XML output for reporting tools (Bamboo, Hudson) -->
          <spotbugsXmlOutput>true</spotbugsXmlOutput>
          <!-- Configures the directory in which the XML report is created -->
          <spotbugsXmlOutputDirectory>${project.build.directory}/spotbugs</spotbugsXmlOutputDirectory>
          <xmlOutput>true</xmlOutput>
          <onlyAnalyze>${spotbugs.only.analyze}</onlyAnalyze>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-report-plugin</artifactId>
        <version>${maven-surefire-report-plugin.version}</version>
        <reportSets>
          <reportSet>
            <id>aggregate</id>
            <inherited>false</inherited>
            <configuration>
              <reportsDirectories>
                <reportsDirectory>${surefire.and.failsafe.report.dir}</reportsDirectory>
              </reportsDirectories>
              <aggregate>true</aggregate>
            </configuration>
            <reports>
              <report>report-only</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <!-- <plugin> -->
      <!-- <groupId>org.codehaus.mojo</groupId> -->
      <!-- <artifactId>jdepend-maven-plugin</artifactId> -->
      <!-- <version>${maven-jdepend-plugin.version}</version> -->
      <!-- </plugin> -->
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>taglist-maven-plugin</artifactId>
        <version>${taglist-maven-plugin.version}</version>
        <configuration>
          <aggregate>true</aggregate>
          <tagListOptions>
            <tagClasses>
              <tagClass>
                <displayName>Todo Work</displayName>
                <tags>
                  <tag>
                    <matchString>todo</matchString>
                    <matchType>ignoreCase</matchType>
                  </tag>
                  <tag>
                    <matchString>FIXME</matchString>
                    <matchType>exact</matchType>
                  </tag>
                </tags>
              </tagClass>
              <tagClass>
                <displayName>Deprecated</displayName>
                <tags>
                  <tag>
                    <matchString>@deprecated</matchString>
                    <matchType>exact</matchType>
                  </tag>
                </tags>
              </tagClass>
            </tagClasses>
          </tagListOptions>
        </configuration>
      </plugin>
    </plugins>
  </reporting>

  <profiles>
    <profile>
      <id>full</id>
      <modules>
        <module>tpd-distribution</module>
      </modules>
    </profile>

    <profile>
      <id>toolchains</id>
      <activation>
        <!-- To disable profile, define property -Dtoolchains.disabled=true -->
        <property>
          <name>!toolchains.disabled</name>
        </property>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-toolchains-plugin</artifactId>
            <executions>
              <execution>
                <goals>
                  <goal>toolchain</goal>
                </goals>
              </execution>
            </executions>
            <configuration>
              <toolchains>
                <jdk>
                  <version>${jdk.major.version}</version>
                </jdk>
              </toolchains>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
    <!-- ================================================================================ -->
    <!-- skip tests phase, -PskipTests -->
    <!-- ================================================================================ -->
    <profile>
      <id>skipTests</id>
      <properties>
        <skipTests>true</skipTests>
        <skipITs>true</skipITs>
      </properties>
    </profile>

    <!-- ================================================================================ -->
    <!-- Activate the deployment of site associated to release phase, see maven-release-plugin -->
    <!-- ================================================================================ -->
    <profile>
      <id>site-deploy</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-site-plugin</artifactId>
            <version>${maven-site-plugin.version}</version>
            <configuration>
              <skipDeploy>false</skipDeploy>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>release-offline</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-release-plugin</artifactId>
            <version>${maven-release-plugin.version}</version>
            <configuration>
              <!-- release locally -->
              <pushChanges>false</pushChanges>
              <remoteTagging>false</remoteTagging>
              <localCheckout>true</localCheckout>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
    <!-- ================================================================================ -->
    <!-- PostgreSql profile tested: 9.5.5 ok, 9.6x failed -->
    <!-- $ su postgres -->
    <!-- $ psql -->
    <!-- $ create role tpduser with login password 'tpduser' valid until 'infinity'; -->
    <!-- $ create database tpd with encoding='UTF8' owner=tpduser connection limit=-1; -->
    <!-- \q press [ENTER] -->
    <!-- ================================================================================ -->
    <profile>
      <id>postgres</id>
      <properties>
        <maven.datasource.driverClass>org.postgresql.Driver</maven.datasource.driverClass>
        <!-- used in tpd-core and liquibase-maven-plugin -->
        <maven.datasource.url>jdbc:postgresql://localhost:5432/tpd</maven.datasource.url>
        <!-- used in resource filtering (app properties file) and tpd-core
        (liquibase-maven-plugin) -->
        <maven.datasource.username>tpduser</maven.datasource.username>
        <!-- used in resource filtering (app properties file) and tpd-core
        (liquibase-maven-plugin) -->
        <maven.datasource.password>tpduser</maven.datasource.password>
        <!-- used in tpd-core (liquibase-maven-plugin) -->
        <maven.hibernate.dialect>org.hibernate.dialect.PostgreSQL9Dialect</maven.hibernate.dialect>
      </properties>
    </profile>
    <!-- ================================================================================ -->
    <!-- dev profile -->
    <!-- ================================================================================ -->
    <profile>
      <id>development</id>
      <activation>
        <activeByDefault>true</activeByDefault>
        <property>
          <name>env</name>
          <value>dev</value>
        </property>
      </activation>
      <properties>
        <maven.spring.profiles>development</maven.spring.profiles>
      </properties>
    </profile>
    <profile>
      <id>integration</id>
      <activation>
        <property>
          <name>env</name>
          <value>int</value>
        </property>
      </activation>
      <properties>
        <maven.spring.profiles>integration</maven.spring.profiles>
      </properties>
    </profile>
    <profile>
      <id>staging</id>
      <activation>
        <property>
          <name>env</name>
          <value>stg</value>
        </property>
      </activation>
      <properties>
        <maven.spring.profiles>staging</maven.spring.profiles>
      </properties>
    </profile>
    <profile>
      <id>qa</id>
      <activation>
        <property>
          <name>env</name>
          <value>qa</value>
        </property>
      </activation>
      <properties>
        <maven.spring.profiles>qa</maven.spring.profiles>
      </properties>
    </profile>
    <profile>
      <id>production</id>
      <activation>
        <property>
          <name>env</name>
          <value>prod</value>
        </property>
      </activation>
      <properties>
        <maven.spring.profiles>production</maven.spring.profiles>
      </properties>
    </profile>
    <profile>
      <id>release-profile</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>${maven-compiler-plugin.version}</version>
            <configuration>
              <debug>false</debug>
              <optimize>true</optimize>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <goals>
                  <goal>jar</goal>
                </goals>
                <configuration>
                  <doctitle>${application_name} ${application_version} Documentation</doctitle>
                  <windowtitle>${application_name} ${application_version}</windowtitle>
                  <doclint>${doclint}</doclint>
                  <detectLinks>false</detectLinks>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>enforcer-rules</id>
      <activation>
        <!-- To disable profile, define property -DenforcerRulesDisabled=true -->
        <property>
          <name>!enforcerRulesDisabled</name>
        </property>
      </activation>
      <build>
        <!-- Enforce project settings -->
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <version>${maven-enforcer-plugin.version}</version>
            <executions>
              <execution>
                <id>enforce-corporate-rules</id>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireJavaVersion>
                      <version>${maven.compiler.release}</version>
                    </requireJavaVersion>
                    <requireMavenVersion>
                      <version>[3.5.0,)</version>
                    </requireMavenVersion>
                    <requirePluginVersions>
                      <message>
                        <![CDATA[Found plugins without fixed release version defined, build is not reproducible! Fix all plugin versions.]]>
                      </message>
                    </requirePluginVersions>
                  </rules>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <!-- ================================================================================ -->
    <!-- generate Jira specific changes report -->
    <!-- ================================================================================ -->
    <profile>
      <id>changes-report</id>
      <activation>
        <!-- To enable profile, define property -Dissue.username=<login> and -Dissue.password=<pwd> -->
        <property>
          <name>issue.username</name>
        </property>
      </activation>
      <reporting>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-changes-plugin</artifactId>
            <version>${maven-changes-plugin.version}</version>
            <configuration>
              <useJql>true</useJql>
              <jiraUser>${issue.username}</jiraUser>
              <jiraPassword>${issue.password}</jiraPassword>
              <columnNames>Key,Summary,Fix Version,Status,Resolution,Assignee</columnNames>
              <filter>status = Closed</filter>
              <onlyCurrentVersion>true</onlyCurrentVersion>
              <resolutionIds>Closed</resolutionIds>
              <statusIds>Closed</statusIds>
              <sortColumnNames>created</sortColumnNames>
              <maxEntries>500</maxEntries>
            </configuration>
            <reportSets>
              <reportSet>
                <reports>
                  <report>jira-report</report>
                </reports>
              </reportSet>
            </reportSets>
          </plugin>
        </plugins>
      </reporting>
    </profile>
    <!-- ================================================================================ -->
    <!-- Active generation of clover's report -->
    <!-- ================================================================================ -->
    <profile>
      <id>clover</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.openclover</groupId>
            <artifactId>clover-maven-plugin</artifactId>
            <version>${maven-clover-plugin.version}</version>
            <configuration>
              <!-- <targetPercentage>75%</targetPercentage> -->
              <flushPolicy>threaded</flushPolicy>
              <flushInterval>100</flushInterval>
              <generateHistorical>true</generateHistorical>
              <generateHtml>true</generateHtml>
              <generatePdf>true</generatePdf>
              <!-- Use custom report descriptor -->
              <reportDescriptor>${main.basedir}/clover-report.xml</reportDescriptor>
              <jdk>${maven.compiler.source}</jdk>
              <title>${application.fullname}</title>
              <singleCloverDatabase>true</singleCloverDatabase>
              <excludes>
                <!-- exclude class used in test -->
                <exclude>**/com/pmi/tpd/testing</exclude>
                <exclude>**/ch/qos/**/*</exclude>
                <exclude>**/com/hazelcast/**/*</exclude>
                <exclude>**/liquibase/ext/**/*</exclude>
                <exclude>**/org/codehaus/**/*</exclude>
              </excludes>
            </configuration>
          </plugin>
        </plugins>
      </build>
      <reporting>
        <plugins>
          <plugin>
            <groupId>org.openclover</groupId>
            <artifactId>clover-maven-plugin</artifactId>
            <version>${maven-clover-plugin.version}</version>
          </plugin>
        </plugins>
      </reporting>
    </profile>
    <profile>
      <id>clover.optimize</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.openclover</groupId>
            <artifactId>clover-maven-plugin</artifactId>
            <version>${maven-clover-plugin.version}</version>
            <configuration>
              <snapshot>${user.home}/clover-optimize/${project.groupId}-${project.artifactId}/clover.snapshot</snapshot>
            </configuration>
            <executions>
              <execution>
                <id>clover</id>
                <goals>
                  <goal>setup</goal>
                  <goal>optimize</goal>
                  <goal>snapshot</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>site-run</id>
      <properties>
        <generate.site.path>${main.basedir}/target/site-webapp</generate.site.path>
      </properties>
    </profile>
    <profile>
      <id>only-eclipse</id>
      <activation>
        <property>
          <name>m2e.version</name>
        </property>
      </activation>
      <build>
        <pluginManagement>
          <plugins>
            <plugin>
              <groupId>org.eclipse.m2e</groupId>
              <artifactId>lifecycle-mapping</artifactId>
              <version>${maven-lifecycle-mapping.version}</version>
              <configuration>
                <lifecycleMappingMetadata>
                  <pluginExecutions>
                    <pluginExecution>
                      <pluginExecutionFilter>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-enforcer-plugin</artifactId>
                        <versionRange>[1.0,)</versionRange>
                        <goals>
                          <goal>enforce</goal>
                        </goals>
                      </pluginExecutionFilter>
                      <action>
                        <ignore />
                      </action>
                    </pluginExecution>
                    <pluginExecution>
                      <pluginExecutionFilter>
                        <groupId>com.github.spotbugs</groupId>
                        <artifactId>spotbugs-maven-plugin</artifactId>
                        <versionRange>[3.0.0,)</versionRange>
                        <goals>
                          <goal>check</goal>
                        </goals>
                      </pluginExecutionFilter>
                      <action>
                        <ignore />
                      </action>
                    </pluginExecution>
                    <pluginExecution>
                      <pluginExecutionFilter>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-pmd-plugin</artifactId>
                        <versionRange>[3.4,)</versionRange>
                        <goals>
                          <goal>check</goal>
                        </goals>
                      </pluginExecutionFilter>
                      <action>
                        <ignore />
                      </action>
                    </pluginExecution>
                    <pluginExecution>
                      <pluginExecutionFilter>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>tidy-maven-plugin</artifactId>
                        <versionRange>[1.0.0,)</versionRange>
                        <goals>
                          <goal>check</goal>
                        </goals>
                      </pluginExecutionFilter>
                      <action>
                        <ignore />
                      </action>
                    </pluginExecution>
                    <pluginExecution>
                      <pluginExecutionFilter>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-toolchains-plugin</artifactId>
                        <versionRange>[3.0.0,)</versionRange>
                        <goals>
                          <goal>toolchain</goal>
                        </goals>
                      </pluginExecutionFilter>
                      <action>
                        <ignore />
                      </action>
                    </pluginExecution>
                  </pluginExecutions>
                </lifecycleMappingMetadata>
              </configuration>
            </plugin>
          </plugins>
        </pluginManagement>
      </build>
    </profile>
  </profiles>
</project>
